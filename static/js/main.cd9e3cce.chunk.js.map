{"version":3,"sources":["panels/Register.js","panels/Captcha.js","components/TopCell.js","panels/Top.js","components/ResultSnippetBlock.js","components/DonePopover.js","panels/Results.js","App.js","index.js"],"names":["Register","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleNameChange","evt","_evt$target","target","value","maxLength","message","slice","length","charAt","test","setState","name","handleSurnameChange","_evt$target2","surname","handlePatronymicChange","_evt$target3","patronymic","handleRegionChange","region","handleBoxChange","isChecked","state","connect","send","style","handleDocumentIDChange","_evt$target4","documentID","handleDocumentTypeChange","documentType","id","handleSubmit","queryParams","window","location","search","userURL","urlBack","formData","vkParams","JSON","stringify","loading","axios","url","method","data","headers","Content-Type","timeout","then","response","status","go","catch","error","code","popoutChange","react_default","a","createElement","Alert_default","actionsLayout","actions","title","autoclose","onClose","errorStatus","componentDidMount","localStorage","setItem","scrollTo","sessionStorage","getItem","scroll","subscribe","e","detail","type","vk_name","trim","re","vk_surname","userData","parse","isEnabled","pageYOffset","_this$state","tempEnable","Panel_default","theme","PanelHeader_default","FormLayout_default","FormStatus_default","Input_default","onChange","top","Select_default","placeholder","Fragment","FormLayoutGroup_default","Radio_default","checked","pattern","bottom","Checkbox_default","Link_default","href","Button_default","disabled","onClick","size","React","Component","osname","platform","Captcha","handleInputChange","closeRegisterPopout","removeItem","updateCaptcha","temp","captchaImg","captchaImage","_this2","left","HeaderButton_default","IOS","chevron_back_default","fill","back_default","Div_default","display","alignItems","flexDirection","src","concat","alt","alignment","TopCell","place","description","link","Cell_default","multiline","before","className","color","Avatar_default","user_default","Top","getCheckboxValue","topCheckbox","changeTabHandler","currentTarget","activeTab","checkboxHandler","checkBoxLoading","inTop","topAll","topRegion","console","log","allCells","fetching","regionCells","renderPeople","makeTop","people","result","positions","Array","apply","i","start","counter","j","toString","rand","Math","random","round","parseInt","res","push","components_TopCell","key","startTime","Date","now","duration","setTimeout","registered","noShadow","FixedLayout_default","vertical","Tabs_default","HorizontalScroll_default","TabsItem_default","selected","marginTop","marginBottom","PullToRefresh_default","onRefresh","bind","isFetching","Spinner_default","viewBox","xmlns","fillRule","d","ResultSnippetBlock","borderColorPicker","resultQuality","buttonHandler","sharingHandler","examID","time","day","month","year","lesson","testScore","appeal","showSharing","borderColor","toUpperCase","examid","stretched","align","level","share_default","DonePopover","text","icon","done_default","PopoutWrapper_default","v","h","statuses","Status","Description","Result","connectHandler","notificationAllowed","indexOf","storiesToken","shareHandler","examId","components_DonePopover","cancel_default","upload_url","storySend","app_id","scope","logoutRequest","logoutHandler","action","results","activePanel","popout","notificationHandler","ringActive","ANDROID","ActionSheet_default","ActionSheetItem_default","assertThisInitialized","ExamId","params","add_to_news","link_text","link_url","access_token","ScreenSpinner_default","querystring","localResults","tooltip","unsubscribe","_this3","timetable","months","_loop","quality","find","element","date","split","components_ResultSnippetBlock","_this4","Tooltip_default","isShown","cornerOffset","offsetX","notification_default","Group_default","makeTimetable","CellButton_default","Footer_default","App","image","arguments","undefined","popoutName","authToken","activeStory","onStoryChange","status_bar_style","action_bar_color","dataset","story","Epic_default","tabbar","Tabbar_default","TabbarItem_default","data-story","more_default","View_default","panels_Register","panels_Captcha","Results","panels_Top","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cd9e3cce.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios'\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel'\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\nimport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup'\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout'\nimport Input from '@vkontakte/vkui/dist/components/Input/Input'\nimport Radio from '@vkontakte/vkui/dist/components/Radio/Radio'\nimport Checkbox from '@vkontakte/vkui/dist/components/Checkbox/Checkbox'\nimport Select from '@vkontakte/vkui/dist/components/Select/Select'\nimport Link from '@vkontakte/vkui/dist/components/Link/Link'\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\nimport Alert from '@vkontakte/vkui/dist/components/Alert/Alert'\nimport FormStatus from '@vkontakte/vkui/dist/components/FormStatus/FormStatus'\nimport {urlBack} from \"../App\";\nimport connect from \"@vkontakte/vkui-connect\";\n\nclass Register extends React.Component {\n    constructor(props) {\n        super(props);\n        if (localStorage.getItem(\"userData\")) {\n            let userData = JSON.parse(localStorage.getItem(\"userData\"));\n            this.state = {\n                name: userData[\"name\"],\n                surname: userData[\"surname\"],\n                patronymic: userData[\"patronymic\"],\n                documentID: userData[\"documentID\"],\n                documentType: userData[\"documentType\"],\n                region: userData[\"region\"],\n                isChecked: userData[\"isChecked\"],\n                isEnabled: userData[\"isEnabled\"]\n            }\n        } else {\n            this.state = {\n                name: \"\",\n                surname: \"\",\n                patronymic: \"\",\n                documentID: \"\",\n                documentType: \"\",\n                region: \"\",\n                loading: false,\n                isChecked: false,\n                isEnabled: false,\n                errorStatus: false\n            };\n        }\n    }\n\n    handleNameChange = (evt) => {\n        const {value, maxLength} = evt.target;\n        const message = value.slice(0, maxLength);\n        if (message.length > 1 && (\n            (message.charAt(message.length - 1) === ' ' && message.charAt(message.length - 2) === ' ') ||\n            (message.charAt(message.length - 1) === '-' && message.charAt(message.length - 2) === '-') ||\n            (message.charAt(0) === ' '))) {\n            return;\n        }\n        const re = /^[а-яА-ЯёЁ\\-\\s]+$/;\n        if (message === '' || re.test(message)) {\n            this.setState({name: message})\n        }\n    };\n    handleSurnameChange = (evt) => {\n        const {value, maxLength} = evt.target;\n        const message = value.slice(0, maxLength);\n        if (message.length > 1 &&\n            ((message.charAt(message.length - 1) === ' ' && message.charAt(message.length - 2) === ' ') ||\n                (message.charAt(0) === ' '))) {\n            return;\n        }\n        const re = /^[а-яА-ЯёЁ\\-\\s]+$/;\n        if (message === '' || re.test(message)) {\n            this.setState({surname: message})\n        }\n    };\n    handlePatronymicChange = (evt) => {\n        const {value, maxLength} = evt.target;\n        const message = value.slice(0, maxLength);\n        if (message.length > 1 &&\n            ((message.charAt(message.length - 1) === ' ' && message.charAt(message.length - 2) === ' ') ||\n                (message.charAt(0) === ' '))) {\n            return;\n        }\n        const re = /^[а-яА-ЯёЁ\\-\\s]+$/;\n        if (message === '' || re.test(message)) {\n            this.setState({patronymic: message})\n        }\n    };\n    handleRegionChange = (evt) => this.setState({region: evt.target.value});\n    handleBoxChange = () => {\n        this.setState({isChecked: !this.state.isChecked});\n        connect.send(\"VKWebAppTapticSelectionChanged\", {\"style\": \"medium\"})\n    };\n    handleDocumentIDChange = (evt) => {\n        const {value, maxLength} = evt.target;\n        const message = value.slice(0, maxLength);\n        const re = /^[0-9\\b]+$/;\n        if (message === '' || re.test(message)) {\n            this.setState({documentID: message})\n        }\n    };\n    handleDocumentTypeChange = (evt) => {\n        connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"medium\"});\n        const {documentID} = this.state;\n        const re = /^[0-9\\b]+$/;\n        let maxLength = 12;\n        if (this.state.documentType !== evt.target.id) {\n            if (this.state.documentType === \"passport\") {\n                this.setState({documentType: \"code\"});\n                maxLength = 12;\n            } else if (this.state.documentType === \"code\") {\n                this.setState({documentType: \"passport\"});\n                maxLength = 6;\n            } else {\n                maxLength = 6;\n                this.setState({documentType: evt.target.id})\n            }\n            const message = documentID.slice(0, maxLength);\n            if (message === '' || re.test(message)) {\n                this.setState({documentID: message})\n            }\n        }\n    };\n\n    handleSubmit = (evt) => {\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"userInfo\";\n        let formData = {\n            name: this.state.name,\n            surname: this.state.surname,\n            patronymic: this.state.patronymic,\n            documentID: this.state.documentID,\n            documentType: this.state.documentType,\n            region: this.state.region,\n            vkParams: queryParams\n        };\n        formData = JSON.stringify(formData);\n        this.setState({loading: true});\n        axios({\n            url: userURL, method: \"post\", data: formData, headers: {\n                'Content-Type': 'application/json'\n            }, timeout: 15000\n        }).then(response => {\n            if (response.status === 200) {\n                this.props.go(\"captcha\", response.data['image']);\n            }\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Отмена',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            } else if (error.response.status === 504) {\n                this.setState({errorStatus: true})\n            }\n        }).then(() => {\n            this.setState({loading: false});\n        });\n    };\n\n    componentDidMount = () => {\n        localStorage.setItem(\"registered\", false);\n        let scrollTo = sessionStorage.getItem(\"scrollPositionFirst\");\n\n        if (scrollTo) {\n            window.scroll(0, scrollTo);\n        } else {\n            window.scroll(0, 0);\n        }\n\n        connect.subscribe((e) => {\n            switch (e.detail.type) {\n                case 'VKWebAppGetUserInfoResult':\n                    let vk_name = e.detail.data[\"first_name\"];\n                    vk_name = vk_name.slice(0, 30).trim();\n                    const re = /^[а-яА-ЯёЁ\\-\\s]+$/;\n                    if (this.state.name === '' && re.test(vk_name)) {\n                        this.setState({name: vk_name});\n                    }\n                    let vk_surname = e.detail.data[\"last_name\"];\n                    vk_surname = vk_surname.slice(0, 30).trim();\n                    if (this.state.surname === '' && re.test(vk_surname)) {\n                        this.setState({surname: vk_surname});\n                    }\n                    break;\n                default:\n            }\n        });\n        connect.send('VKWebAppGetUserInfo', {});\n    };\n\n    componentWillUnmount() {\n        let userData = {\n            name: this.state.name,\n            surname: this.state.surname,\n            patronymic: this.state.patronymic,\n            documentID: this.state.documentID,\n            documentType: this.state.documentType,\n            region: this.state.region,\n            isChecked: this.state.isChecked,\n            isEnabled: this.state.isEnabled,\n        };\n        localStorage.setItem(\"userData\", JSON.stringify(userData));\n        sessionStorage.setItem(\"scrollPositionFirst\", window.pageYOffset);\n    }\n\n    render() {\n        const {name, surname, documentID, documentType, region, isChecked} = this.state;\n        const tempEnable = name.length > 0 &&\n            surname.length > 0 &&\n            ((documentID.length === 6 && documentType === \"passport\") || (documentID.length === 12 && documentType === \"code\")) &&\n            region > 0 && isChecked;\n        return (\n            <Panel id=\"register\" theme=\"white\">\n                <PanelHeader theme=\"alternate\">Авторизация</PanelHeader>\n                <FormLayout>\n                    <FormStatus title=\"Обратите внимание\" state=\"default\">\n                        Для просмотра доступны результаты с 1 декабря 2018 года. Результаты прошлых лет отсутствуют.\n                    </FormStatus>\n                    <Input value={this.state.surname}\n                           maxLength=\"30\"\n                           onChange={this.handleSurnameChange} top=\"Фамилия\"/>\n\n                    <Input value={this.state.name}\n                           maxLength=\"30\"\n                           onChange={this.handleNameChange} top=\"Имя\"/>\n\n                    <Input value={this.state.patronymic}\n                           maxLength=\"30\"\n                           onChange={this.handlePatronymicChange} top=\"Отчество\"/>\n\n                    <Select\n                        top=\"Регион\"\n                        placeholder=\"Выберите регион сдачи\"\n                        onChange={this.handleRegionChange}\n                        value={this.state.region}>\n                        <>\n                            <option value=\"77\">г. Москва</option>\n                            <option value=\"78\">г. Санкт-Петербург</option>\n                            <option value=\"50\">Московская область</option>\n                            <option value=\"1\">Республика Адыгея</option>\n                            <option value=\"2\">Республика Башкортостан</option>\n                            <option value=\"3\">Республика Бурятия</option>\n                            <option value=\"4\">Республика Алтай</option>\n                            <option value=\"5\">Республика Дагестан</option>\n                            <option value=\"6\">Республика Ингушетия</option>\n                            <option value=\"7\">Кабардино-Балкарская Республика</option>\n                            <option value=\"8\">Республика Калмыкия</option>\n                            <option value=\"9\">Карачаево-Черкесская Республика</option>\n                            <option value=\"10\">Республика Карелия</option>\n                            <option value=\"11\">Республика Коми</option>\n                            <option value=\"12\">Республика Марий Эл</option>\n                            <option value=\"13\">Республика Мордовия</option>\n                            <option value=\"14\">Республика Саха (Якутия)</option>\n                            <option value=\"15\">Республика Северная Осетия</option>\n                            <option value=\"16\">Республика Татарстан</option>\n                            <option value=\"17\">Республика Тыва</option>\n                            <option value=\"18\">Удмуртская Республика</option>\n                            <option value=\"19\">Республика Хакасия</option>\n                            <option value=\"20\">Чеченская Республика</option>\n                            <option value=\"21\">Чувашская Республика</option>\n                            <option value=\"22\">Алтайский край</option>\n                            <option value=\"23\">Краснодарский край</option>\n                            <option value=\"24\">Красноярский край</option>\n                            <option value=\"25\">Приморский край</option>\n                            <option value=\"26\">Ставропольский край</option>\n                            <option value=\"27\">Хабаровский край</option>\n                            <option value=\"28\">Амурская область</option>\n                            <option value=\"29\">Архангельская область</option>\n                            <option value=\"30\">Астраханская область</option>\n                            <option value=\"31\">Белгородская область</option>\n                            <option value=\"32\">Брянская область</option>\n                            <option value=\"33\">Владимирская область</option>\n                            <option value=\"34\">Волгоградская область</option>\n                            <option value=\"35\">Вологодская область</option>\n                            <option value=\"36\">Воронежская область</option>\n                            <option value=\"37\">Ивановская область</option>\n                            <option value=\"38\">Иркутская область</option>\n                            <option value=\"39\">Калининградская область</option>\n                            <option value=\"40\">Калужская область</option>\n                            <option value=\"41\">Камчатский край</option>\n                            <option value=\"42\">Кемеровская область</option>\n                            <option value=\"43\">Кировская область</option>\n                            <option value=\"44\">Костромская область</option>\n                            <option value=\"45\">Курганская область</option>\n                            <option value=\"46\">Курская область</option>\n                            <option value=\"47\">Ленинградская область</option>\n                            <option value=\"48\">Липецкая область</option>\n                            <option value=\"49\">Магаданская область</option>\n                            <option value=\"51\">Мурманская область</option>\n                            <option value=\"52\">Нижегородская область</option>\n                            <option value=\"53\">Новгородская область</option>\n                            <option value=\"54\">Новосибирская область</option>\n                            <option value=\"55\">Омская область</option>\n                            <option value=\"56\">Оренбургская область</option>\n                            <option value=\"57\">Орловская область</option>\n                            <option value=\"58\">Пензенская область</option>\n                            <option value=\"59\">Пермский край</option>\n                            <option value=\"60\">Псковская область</option>\n                            <option value=\"61\">Ростовская область</option>\n                            <option value=\"62\">Рязанская область</option>\n                            <option value=\"63\">Самарская область</option>\n                            <option value=\"64\">Саратовская область</option>\n                            <option value=\"65\">Сахалинская область</option>\n                            <option value=\"66\">Свердловская область</option>\n                            <option value=\"67\">Смоленская область</option>\n                            <option value=\"68\">Тамбовская область</option>\n                            <option value=\"69\">Тверская область</option>\n                            <option value=\"70\">Томская область</option>\n                            <option value=\"71\">Тульская область</option>\n                            <option value=\"72\">Тюменская область</option>\n                            <option value=\"73\">Ульяновская область</option>\n                            <option value=\"74\">Челябинская область</option>\n                            <option value=\"75\">Забайкальский край</option>\n                            <option value=\"76\">Ярославская область</option>\n                            <option value=\"79\">Еврейская автономная область</option>\n                            <option value=\"82\">Республика Крым</option>\n                            <option value=\"83\">Ненецкий автономный округ</option>\n                            <option value=\"86\">Ханты-Мансийский автономный округ</option>\n                            <option value=\"87\">Чукотский автономный округ</option>\n                            <option value=\"89\">Ямало-Ненецкий автономный округ</option>\n                            <option value=\"90\">ОУ, находящиеся за пределами РФ</option>\n                            <option value=\"92\">г. Севастополь</option>\n                        </>\n                    </Select>\n                    <FormLayoutGroup top=\"Тип документа\">\n\n                        <Radio name=\"type\" id=\"passport\" onChange={this.handleDocumentTypeChange}\n                               checked={documentType === \"passport\"}>\n                            Паспорт\n                        </Radio>\n\n                        <Radio name=\"type\" id=\"code\" onChange={this.handleDocumentTypeChange}\n                               checked={documentType === \"code\"}>\n                            Код регистрации\n                        </Radio>\n\n                    </FormLayoutGroup>\n                    {documentType === \"passport\" && (<Input pattern=\"\\d*\"\n                                                            top=\"Номер документа\"\n                                                            bottom=\"Без серии. Только номер. 6 цифр.\"\n                                                            value={this.state.documentID}\n                                                            type=\"tel\"\n                                                            onChange={this.handleDocumentIDChange}\n                                                            maxLength=\"6\"/>)\n                    }\n                    {documentType === \"code\" && (<Input pattern=\"\\d*\"\n                                                        top=\"Номер документа\"\n                                                        bottom=\"12 цифр\"\n                                                        type=\"tel\"\n                                                        value={this.state.documentID}\n                                                        onChange={this.handleDocumentIDChange}\n                                                        maxLength=\"12\"/>)\n                    }\n\n\n                    <Checkbox checked={this.state.isChecked}\n                              onChange={this.handleBoxChange}>\n                        Отправляя данные, Вы соглашаетесь с <Link\n                        href=\"http://vk.com/away.php?to=https://vk.com/dev/uprivacy\" target=\"_blank\">политикой\n                        конфиденциальности</Link>\n                    </Checkbox>\n                    {this.state.errorStatus && (\n                        <FormStatus title=\"Внимание!\" state=\"error\">\n                            Сайт check.ege.edu.ru временно недоступен. Воспользуйтесь сервисом позднее.\n                        </FormStatus>)\n                    }\n                    <Button disabled={!tempEnable || this.state.errorStatus || this.state.loading}\n                            onClick={this.handleSubmit}\n                            size=\"xl\">Узнать результаты</Button>\n                </FormLayout>\n                <p/>\n            </Panel>\n\n        );\n    }\n}\n\nRegister.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired\n};\n\nexport default Register;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from \"axios\";\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel'\nimport Div from '@vkontakte/vkui/dist/components/Div/Div'\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton'\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout'\nimport Input from '@vkontakte/vkui/dist/components/Input/Input'\nimport Link from '@vkontakte/vkui/dist/components/Link/Link'\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\nimport Alert from '@vkontakte/vkui/dist/components/Alert/Alert'\nimport Icon24Back from '@vkontakte/icons/dist/24/back'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport {platform, IOS} from '@vkontakte/vkui';\nimport {urlBack} from \"../App\";\n\n\nconst osname = platform();\n\nclass Captcha extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            code: sessionStorage.getItem(\"captcha\")? sessionStorage.getItem(\"captcha\"): \"\",\n            captchaImg: props.captchaImage,\n            isEnabled: false\n        }\n    }\n\n    handleInputChange = (evt) => {\n        const {value, maxLength} = evt.target;\n        const message = value.slice(0, maxLength);\n        const re = /^[0-9\\b]+$/;\n        if (message === '' || re.test(message)) {\n            sessionStorage.setItem(\"captcha\", message);\n            this.setState({code: message})\n        }\n    };\n    closeRegisterPopout = () => {\n        this.props.popoutChange(null);\n        sessionStorage.removeItem(\"captcha\");\n        this.props.go(\"register\");\n    };\n\n    handleSubmit = () => {\n        this.setState({isEnabled: !this.state.isEnabled});\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"captcha\";\n        let formData = {\n            code: this.state.code,\n            vkParams: queryParams\n        };\n        formData = JSON.stringify(formData);\n\n        axios({\n            url: userURL, method: \"post\", data: formData, headers: {\n                'Content-Type': 'application/json'\n            }, timeout: 15000\n        }).then(response => {\n            if (response.status === 200) {\n                sessionStorage.removeItem(\"captcha\");\n                this.props.go(\"results\");\n            }\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Отмена',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее.</p>\n                </Alert>);\n            } else if (error.message === \"Network Error\"){\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            }else if (error.response.status === 401) {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Редактировать',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={this.closeRegisterPopout}>\n                    <h2>Ошибка</h2>\n                    <p>Участник с такими данными не найден</p>\n                </Alert>)\n            } else if (error.response.status === 400) {\n                this.updateCaptcha();\n                this.setState({code: \"\"});\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Ошибка</h2>\n                    <p>Неправильный код</p>\n                </Alert>)\n            }\n        }).then(() => {\n            this.setState({isEnabled: !this.state.isEnabled});\n        });\n    };\n\n    updateCaptcha = () => {\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"update_captcha\" + queryParams;\n        axios({url: userURL, method: \"get\", timeout: 15000}).then(response => {\n            if (response.status === 200) {\n                let temp = response.data['image'];\n                this.setState({captchaImg: temp});\n            }\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Отмена',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            }\n        });\n    };\n\n    render() {\n        const {code} = this.state;\n        const tempEnable = code.length === 6;\n        if (tempEnable !== this.state.isEnabled) {\n            this.setState({isEnabled: tempEnable});\n        }\n        let {id} = this.props;\n        return (\n            <Panel id={id} theme=\"white\">\n                <PanelHeader theme=\"alternate\" left={\n                    <HeaderButton onClick={() => {sessionStorage.removeItem(\"captcha\"); this.props.go(\"register\");}}>{osname === IOS ? <Icon28ChevronBack fill=\"#5181b8\"/> :\n                        <Icon24Back fill=\"#5181b8\"/>}</HeaderButton>}>\n                    Подтверждение</PanelHeader>\n                <Div style={{display: 'flex', alignItems: 'center', flexDirection: 'column'}}>\n                    <img src={`data:image/jpeg;base64,${this.state.captchaImg}`} alt=\"CAPTCHA\"/>\n                    <Link onClick={this.updateCaptcha}>Обновить код</Link>\n                </Div>\n                <FormLayout>\n                    <Input pattern=\"\\d*\"\n                           onChange={this.handleInputChange}\n                           value={code}\n                           placeholder=\"000000\"\n                           maxLength=\"6\"\n                           type=\"tel\"\n                           alignment=\"center\"/>\n                    <Button disabled={!this.state.isEnabled}\n                            onClick={this.handleSubmit}\n                            size=\"xl\">Отправить</Button>\n                </FormLayout>\n\n            </Panel>\n        )\n    }\n}\n\nCaptcha.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired,\n    popoutChange: PropTypes.func.isRequired\n};\n\nexport default Captcha;\n","import React, {Component} from \"react\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport Icon28User from '@vkontakte/icons/dist/28/user';\n\n\nclass TopCell extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            place: props.place ? props.place : \"\",\n            name: props.name ? props.name : \"\",\n            description: props.description ? props.description : \"\",\n            src: props.src ? props.src : null,\n            link: props.link ? props.link : null,\n        }\n    }\n\n    render() {\n        return (\n            <Cell multiline={true}\n                  description={this.state.description}\n                  href={this.state.link}\n                  target=\"_blank\"\n                  before={\n                      <div className=\"TopCellBefore\">\n                          <b color=\"blue\"\n                             className=\"TopCellBeforePlace\">\n                              {this.state.place}\n                          </b>\n                          <Avatar\n                              className=\"TopCellBeforeImage\"\n                              src={this.state.src}>\n                              {this.state.src === null ? <Icon28User/> : null}\n                          </Avatar>\n                      </div>}>\n                {this.state.name}\n            </Cell>\n\n        );\n    }\n\n}\n\nexport default TopCell","import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios'\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel'\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout'\nimport Tabs from '@vkontakte/vkui/dist/components/Tabs/Tabs'\nimport Div from '@vkontakte/vkui/dist/components/Div/Div'\nimport TabsItem from '@vkontakte/vkui/dist/components/TabsItem/TabsItem'\nimport HorizontalScroll from '@vkontakte/vkui/dist/components/HorizontalScroll/HorizontalScroll'\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout'\nimport Alert from \"@vkontakte/vkui/dist/components/Alert/Alert\";\nimport Spinner from \"@vkontakte/vkui/dist/components/Spinner/Spinner\";\nimport \"./styles.scss\";\nimport TopCell from \"../components/TopCell\"\nimport {urlBack} from \"../App\";\nimport connect from \"@vkontakte/vkui-connect\";\nimport PullToRefresh from \"@vkontakte/vkui/dist/components/PullToRefresh/PullToRefresh\";\nimport Checkbox from \"@vkontakte/vkui/dist/components/Checkbox/Checkbox\";\n\nclass Top extends React.Component {\n    constructor(props) {\n        super(props);\n        let topAll = sessionStorage.getItem(\"topAll\");\n        if (topAll) {\n            topAll = JSON.parse(topAll);\n        }\n        let topRegion = sessionStorage.getItem(\"topRegion\");\n        if (topRegion) {\n            topRegion = JSON.parse(topRegion);\n        }\n        let topCheckbox = sessionStorage.getItem(\"topCheckbox\");\n        if (topCheckbox) {\n            topCheckbox = JSON.parse(topCheckbox);\n        }\n        console.log(topAll);\n        this.state = {\n            topAll: topAll ? topAll : [],\n            topRegion: topRegion ? topRegion : [],\n            allCells: [],\n            fetching: false,\n            regionCells: [],\n            topCheckbox: topCheckbox ? topCheckbox : false,\n            activeTab: sessionStorage.getItem(\"activeTab\") ? sessionStorage.getItem(\"activeTab\") : \"topAll\",\n            loading: false,\n            checkBoxLoading: false\n        };\n    }\n\n    componentDidMount() {\n        this.renderPeople(this.state.topAll, \"topAll\");\n        this.renderPeople(this.state.topRegion, \"topRegion\");\n        this.getCheckboxValue()\n        if (this.state.topAll.length === 0) {\n            this.setState({loading: true});\n            this.makeTop(\"topAll\");\n        }\n        if (this.state.topRegion.length === 0) {\n            this.setState({loading: true});\n            this.makeTop(\"topRegion\");\n        }\n\n        let scrollTo = sessionStorage.getItem(\"scrollPositionSecond\");\n        if (scrollTo) {\n            window.scroll(0, scrollTo);\n        } else {\n            window.scroll(0, 0);\n        }\n    }\n\n    componentWillUnmount() {\n        sessionStorage.setItem(\"scrollPositionSecond\", window.pageYOffset);\n        sessionStorage.setItem(\"activeTab\", this.state.activeTab);\n    }\n\n    renderPeople(people, name) {\n        let result = [];\n        let positions = Array.apply(0, Array(300));\n        positions[0] = 1;\n        for (let i = 1; i < people.length; i++) {\n            if (people[i - 1][\"rel_score\"] === people[i][\"rel_score\"] &&\n                people[i - 1][\"exams_qty\"] === people[i][\"exams_qty\"]) {\n                let start = i - 1;\n                let counter = 0;\n                for (let j = i; j < people.length; j++) {\n                    if (people[j - 1][\"rel_score\"] === people[j][\"rel_score\"] &&\n                        people[j - 1][\"exams_qty\"] === people[j][\"exams_qty\"]) {\n                        counter++;\n                    } else {\n                        break;\n                    }\n                }\n                for (let j = 0; j <= counter; j++) {\n                    positions[start + j] = ((start + 1) + \"-\" + (start + counter + 1));\n                }\n                i += counter - 1;\n            } else {\n                positions[i] = (i + 1).toString();\n            }\n        }\n        for (let i = 0; i < people.length; i++) {\n            let rand = 100 - 0.5 + Math.random() * (101);\n            rand = Math.round(rand);\n            let description = \"\";\n            people[i][\"rel_score\"] = parseInt(people[i][\"rel_score\"], 10);\n            if (people[i][\"rel_score\"] < 11 || people[i][\"rel_score\"] > 14) {\n                const res = people[i][\"rel_score\"] % 10;\n                if (res === 1) {\n                    description = people[i][\"rel_score\"] + \" балл/экзамен в среднем\";\n                } else if (res === 2 || res === 3 || res === 4) {\n                    description = people[i][\"rel_score\"] + \" балла/экзамен в среднем\";\n                } else {\n                    description = people[i][\"rel_score\"] + \" баллов/экзамен в среднем\";\n                }\n            } else {\n                description = people[i][\"rel_score\"] + \" баллов/экзамен в среднем\";\n            }\n            people[i][\"exams_qty\"] = parseInt(people[i][\"exams_qty\"], 10);\n            if (people[i][\"exams_qty\"] === 1) {\n                description += \" из \" + people[i][\"exams_qty\"] + \" экзамена\"\n            } else {\n                description += \" из \" + people[i][\"exams_qty\"] + \" экзаменов\"\n            }\n            result.push(<TopCell key={people[i][\"sum_score\"] + people[i][\"vk_id\"] + positions[i]} place={positions[i]}\n                                 name={people[i][\"name\"]}\n                                 link={\"https://vk.com/id\" + people[i][\"vk_id\"]}\n                                 description={description}\n                                 src={people[i][\"src\"]}/>)\n        }\n        if (name === \"topAll\") {\n            this.setState({allCells: result});\n        } else if (name === \"topRegion\") {\n            this.setState({regionCells: result});\n        }\n    };\n\n    makeTop(name) {\n        connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\n        this.setState({fetching: true});\n        const startTime = Date.now();\n        const queryParams = window.location.search;\n        const userURL = urlBack + name + queryParams;\n        axios({url: userURL, method: \"get\", timeout: 15000}).then(response => {\n            if (name === \"topAll\") {\n                this.setState({topAll: response.data});\n            } else if (name === \"topRegion\") {\n                this.setState({topRegion: response.data});\n            }\n            this.renderPeople(response.data, name);\n\n            sessionStorage.setItem(\"topAll\", JSON.stringify(this.state.topAll));\n            sessionStorage.setItem(\"topRegion\", JSON.stringify(this.state.topRegion));\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n            } else if (error.status === 400) {\n                this.setState(this.state);\n                localStorage.setItem(\"registered\", false);\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            }\n        }).then(() => {\n            this.setState({loading: false});\n            const duration = Date.now() - startTime;\n            if (duration < 650) {\n                setTimeout(() => {\n                    this.setState({fetching: false});\n                }, 650 - duration);\n            } else {\n                this.setState({fetching: false});\n            }\n        });\n    };\n\n    getCheckboxValue = () => {\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"inTop\" + queryParams;\n        axios({url: userURL, method: \"get\", timeout: 15000}).then(response => {\n            this.setState({topCheckbox: response.data[\"inTop\"]});\n            sessionStorage.setItem(\"topCheckbox\", response.data[\"inTop\"])\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n            } else if (error.status === 400) {\n                this.setState(this.state);\n                localStorage.setItem(\"registered\", false);\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            }\n        }).then(() => {\n        });\n    }\n\n    changeTabHandler = (evt) => {\n        connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\n        if (evt.currentTarget.id === \"topAll\") {\n            this.setState({activeTab: \"topAll\"});\n        } else if (evt.currentTarget.id === \"topRegion\") {\n            this.setState({activeTab: \"topRegion\"});\n        } else if (evt.currentTarget.id === \"topFriends\") {\n            this.setState({activeTab: \"topFriends\"})\n        }\n\n    };\n\n    checkboxHandler = (evt) => {\n        connect.send(\"VKWebAppTapticSelectionChanged\", {\"style\": \"medium\"});\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"inTop\";\n        this.setState({checkBoxLoading: true});\n        let formData = {\n            inTop: !this.state.topCheckbox,\n            vkParams: queryParams\n        };\n        formData = JSON.stringify(formData);\n        axios({\n            url: userURL, method: \"post\", data: formData, headers: {\n                'Content-Type': 'application/json'\n            }, timeout: 15000\n        }).then(response => {\n            if (response.status === 200) {\n                this.setState({topCheckbox: response.data[\"inTop\"]});\n                sessionStorage.setItem(\"topCheckbox\", response.data[\"inTop\"])\n            }\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Отмена',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            }\n        }).then(() => {\n            this.setState({checkBoxLoading: false});\n        });\n    };\n\n    render() {\n        let {id} = this.props;\n        const registered = localStorage.getItem(\"registered\");\n\n        return (\n            <Panel id={id} theme=\"white\">\n                <PanelHeader noShadow theme=\"alternate\">Топ</PanelHeader>\n                <FixedLayout vertical=\"top\">\n                    <Tabs theme=\"light\" type=\"buttons\">\n                        <HorizontalScroll>\n                            <TabsItem\n                                id=\"topAll\"\n                                onClick={this.changeTabHandler}\n                                selected={this.state.activeTab === \"topAll\"}\n                            >\n                                Общий\n                            </TabsItem>\n                            <TabsItem\n                                id=\"topRegion\"\n                                onClick={this.changeTabHandler}\n                                selected={this.state.activeTab === \"topRegion\"}\n                            >\n                                По региону\n                            </TabsItem>\n                        </HorizontalScroll>\n                    </Tabs>\n                </FixedLayout>\n                {(registered === \"true\") && (<FixedLayout vertical=\"bottom\">\n                    <div className=\"CellBackground\">\n                        <div className=\"Tabbar--ios.Tabbar--shadow:before\"/>\n                        <Checkbox disabled={this.state.checkBoxLoading} onChange={this.checkboxHandler}\n                                  checked={this.state.topCheckbox} className=\"CheckBoxPadding\">\n                            <div className=\"CheckBoxText\">Отображать меня в общем рейтинге и рейтинге по региону</div>\n                        </Checkbox>\n                    </div>\n                </FixedLayout>)}\n                <Div style={{marginTop: 40, marginBottom: 40}}>\n                    <PullToRefresh onRefresh={this.makeTop.bind(this, this.state.activeTab)}\n                                   isFetching={this.state.fetching}>\n                        <>\n\n                            {this.state.loading ? <Spinner style={{marginTop: 5}} size=\"medium\"/> : null}\n                            {this.state.activeTab === \"topAll\" ? (\n                                this.state.allCells.length !== 0 ? this.state.allCells :\n                                    <div className=\"RegionText\">Данных нет. Вы можете стать первым!\n                                    </div>\n                            ) : null}\n\n\n                            {this.state.activeTab === \"topRegion\" ? (\n                                registered === \"true\" ? (\n                                        this.state.regionCells.length !== 0 ? this.state.regionCells :\n                                            <div className=\"RegionText\">Данных нет. Вы можете стать первым!\n                                            </div>\n                                    ) :\n                                    (<div className=\"RegionWrapper\">\n                                        <div className=\"RegionText\">Укажите свои данные, чтобы увидеть Топ по региону\n                                        </div>\n                                        <div>\n                                            <svg className=\"Arrow\" viewBox='0 0 76 153'\n                                                 xmlns='http://www.w3.org/2000/svg'>\n                                                <g id='Page-1' fill='none' fillRule='evenodd'>\n                                                    <path id='Line'\n                                                          d='M8.24088707,148.92425 L13.6784082,138.907628 C13.941896,138.422249 14.5489724,138.24237 15.0343512,138.505858 C15.5197301,138.769346 15.6996083,139.376422 15.4361205,139.861801 L8.86750755,151.962042 C8.49547682,152.647371 7.51704474,152.6621 7.12455395,151.98828 L0.194696278,140.091239 C-0.0832821869,139.614011 0.0782413511,139.001796 0.555469198,138.723817 C1.03269704,138.445839 1.64491272,138.607362 1.92289119,139.08459 L7.659452,148.933002 C7.75102804,148.903706 7.84841004,148.887228 7.94952344,148.885706 C8.05063684,148.884184 8.14847071,148.897724 8.24088707,148.92425 Z M67.7376322,2.14240969 C67.5095776,1.63940915 67.7324653,1.04677186 68.2354658,0.818717248 C68.7384664,0.590662635 69.3311037,0.813550343 69.5591583,1.31655088 C69.9825399,2.25036754 70.3846787,3.1792333 70.7655676,4.10315191 C70.9760634,4.61374956 70.7327828,5.1983113 70.2221851,5.4088071 C69.7115874,5.6193029 69.1270257,5.37602227 68.9165299,4.86542462 C68.5445019,3.96299974 68.1515383,3.05532685 67.7376322,2.14240969 Z M69.9946462,7.62413099 C69.8034084,7.10601271 70.0683974,6.53096599 70.5865156,6.33972819 C71.1046339,6.14849038 71.6796806,6.41347936 71.8709184,6.93159764 C72.2264505,7.89483635 72.5583657,8.85259296 72.8666536,9.80486957 C73.0367571,10.3303058 72.7487031,10.8941522 72.2232668,11.0642557 C71.6978306,11.2343592 71.1339842,10.9463052 70.9638807,10.4208689 C70.6639636,9.49444902 70.340889,8.56220233 69.9946462,7.62413099 Z M71.8159383,13.2613556 C71.6690546,12.7289613 71.9815726,12.1782978 72.5139668,12.031414 C73.0463611,11.8845303 73.5970246,12.1970483 73.7439084,12.7294426 C74.0173519,13.7205651 74.2645727,14.7056156 74.4855558,15.6845915 C74.6071628,16.2233217 74.2690176,16.7586307 73.7302875,16.8802377 C73.1915573,17.0018446 72.6562483,16.6636995 72.5346413,16.1249693 C72.3206287,15.1768735 72.0810659,14.2223364 71.8159383,13.2613556 Z M73.1118898,19.0181808 C73.017773,18.4739745 73.3826427,17.9565114 73.926849,17.8623947 C74.4710553,17.7682779 74.9885183,18.1331475 75.0826351,18.6773538 C75.2580505,19.6916489 75.4045512,20.6992419 75.5221194,21.7001215 C75.5865504,22.2486351 75.1941241,22.7455248 74.6456105,22.8099559 C74.097097,22.8743869 73.6002073,22.4819605 73.5357762,21.933447 C73.4224563,20.9687339 73.2811668,19.9969822 73.1118898,19.0181808 Z M73.7963561,24.8821584 C73.7639152,24.3308273 74.1845588,23.8575865 74.73589,23.8251456 C75.2872211,23.7927046 75.7604619,24.2133483 75.7929028,24.7646794 C75.8533478,25.7919371 75.8824337,26.8118774 75.8801442,27.8244765 C75.8788955,28.3767598 75.4301692,28.8234616 74.8778858,28.822213 C74.3256025,28.8209643 73.8789007,28.3722379 73.8801493,27.8199546 C73.8823464,26.8482184 73.8544207,25.868961 73.7963561,24.8821584 Z M73.7814991,30.7386753 C73.8177779,30.1875834 74.2939359,29.7702449 74.8450278,29.8065236 C75.3961197,29.8428024 75.8134582,30.3189604 75.7771794,30.8700523 C75.7096977,31.8951318 75.6090841,32.9123756 75.4753319,33.9217484 C75.4027827,34.4692473 74.9001343,34.8542701 74.3526354,34.7817209 C73.8051365,34.7091717 73.4201137,34.2065234 73.4926629,33.6590245 C73.6206207,32.6933798 73.7169016,31.7199419 73.7814991,30.7386753 Z M73.0062578,36.5698174 C73.1157494,36.0284949 73.6433384,35.6784267 74.1846609,35.7879183 C74.7259834,35.8974098 75.0760515,36.4249989 74.96656,36.9663214 C74.7636599,37.9694521 74.526976,38.9644426 74.2565171,39.9512545 C74.110534,40.4838964 73.5603998,40.7973454 73.0277579,40.6513624 C72.495116,40.5053793 72.1816671,39.9552451 72.3276501,39.4226032 C72.5861367,38.4794744 72.8123363,37.5285585 73.0062578,36.5698174 Z M71.449063,42.2466208 C71.6309412,41.7251433 72.2011237,41.4498437 72.7226011,41.6317219 C73.2440786,41.8136001 73.5193783,42.3837825 73.3375001,42.90526 C73.0021644,43.8667277 72.6336997,44.8200583 72.2321276,45.7652227 C72.0161625,46.2735312 71.4290227,46.5105223 70.9207142,46.2945572 C70.4124057,46.0785921 70.1754146,45.4914524 70.3913797,44.9831439 C70.7757359,44.0785001 71.1282898,43.1663355 71.449063,42.2466208 Z M69.1414969,47.6772934 C69.3899225,47.1840357 69.9911756,46.98556 70.4844333,47.2339855 C70.977691,47.4824111 71.1761667,48.0836642 70.9277412,48.5769219 C70.4722013,49.4814124 69.9853075,50.3780872 69.4670849,51.2669319 C69.1889128,51.7440469 68.5766316,51.905322 68.0995166,51.6271499 C67.6224016,51.3489778 67.4611265,50.7366967 67.7392986,50.2595816 C68.2370226,49.4058957 68.7044136,48.5451377 69.1414969,47.6772934 Z M66.1599287,52.7921796 C66.4657157,52.3322745 67.0864318,52.207337 67.546337,52.5131241 C68.0062421,52.8189111 68.1311795,53.4396272 67.8253925,53.8995324 C67.2673596,54.7388166 66.6804223,55.5708367 66.064602,56.3955907 C65.7341746,56.8381245 65.1075657,56.9290047 64.6650319,56.5985773 C64.2224981,56.2681498 64.1316179,55.641541 64.4620453,55.1990072 C65.056205,54.4032628 65.622159,53.6009877 66.1599287,52.7921796 Z M62.6932743,57.2583419 C63.0985669,56.8831668 63.7312609,56.9075818 64.1064361,57.3128743 C64.4816112,57.7181669 64.4571962,58.350861 64.0519037,58.7260361 C63.3521904,59.3737534 62.5252953,60.0141364 61.5609774,60.6624937 C61.1026541,60.9706466 60.4813024,60.8489093 60.1731495,60.390586 C59.8649967,59.9322626 59.986734,59.3109109 60.4450573,59.0027581 C61.3285169,58.4087657 62.0750978,57.8305815 62.6932743,57.2583419 Z M57.9472549,60.5266766 C58.4286529,60.2559841 59.0383426,60.4267948 59.3090351,60.9081928 C59.5797275,61.3895908 59.4089169,61.9992806 58.9275189,62.269973 C58.1159504,62.7263218 57.2292694,63.197047 56.2415554,63.6981236 C55.7490253,63.9479887 55.1471951,63.7512699 54.89733,63.2587398 C54.6474649,62.7662097 54.8441837,62.1643795 55.3367138,61.9145144 C56.3004211,61.4256167 57.1623605,60.9680264 57.9472549,60.5266766 Z M52.6445569,63.2383581 C53.1425121,62.9994878 53.7398272,63.2095176 53.9786976,63.7074728 C54.2175679,64.205428 54.0075381,64.8027432 53.5095829,65.0416135 C52.7214724,65.419672 51.8882684,65.813524 50.7893195,66.3287633 C50.289267,66.5632116 49.6938365,66.3478968 49.4593883,65.8478444 C49.22494,65.3477919 49.4402547,64.7523614 49.9403072,64.5179132 C51.0343658,64.0049667 51.8627154,63.6134093 52.6445569,63.2383581 Z M47.2377403,65.7834033 C47.7377146,65.5487883 48.3332168,65.7639045 48.5678318,66.2638788 C48.8024467,66.7638531 48.5873305,67.3593553 48.0873562,67.5939703 C47.0603594,68.0758927 46.2083316,68.4786914 45.3814852,68.8741522 C44.8832532,69.1124446 44.2861821,68.901722 44.0478897,68.4034899 C43.8095973,67.9052579 44.0203199,67.3081868 44.518552,67.0698944 C45.350413,66.6720352 46.20665,66.2672466 47.2377403,65.7834033 Z M41.8034145,68.3890481 C42.2984617,68.1442078 42.8982589,68.3470406 43.1430992,68.8420878 C43.3879395,69.3371349 43.1851067,69.9369322 42.6900596,70.1817725 C41.7692845,70.6371691 40.8865733,71.0830694 40.0281746,71.5272556 C39.5376691,71.7810721 38.9342769,71.5891978 38.6804604,71.0986923 C38.4266439,70.6081869 38.6185182,70.0047947 39.1090237,69.7509781 C39.9786191,69.3009981 40.8721139,68.8496505 41.8034145,68.3890481 Z M36.4347394,71.1725477 C36.9193109,70.907578 37.5269341,71.0856004 37.7919038,71.5701718 C38.0568735,72.0547433 37.8788511,72.6623664 37.3942797,72.9273362 C36.508319,73.4117905 35.646743,73.8975846 34.805617,74.3877168 C34.3284356,74.6657749 33.7161929,74.5043536 33.4381348,74.0271722 C33.1600766,73.5499908 33.3214979,72.9377481 33.7986793,72.65969 C34.6558372,72.1602159 35.5331892,71.6655267 36.4347394,71.1725477 Z M31.190312,74.2341973 C31.6584496,73.9411689 32.2754965,74.0831228 32.568525,74.5512604 C32.8615535,75.0193979 32.7195995,75.6364449 32.2514619,75.9294734 C31.4018429,76.4612883 30.5740965,76.9995718 29.7667701,77.5460417 C29.3094106,77.8556231 28.687682,77.7358252 28.3781006,77.2784656 C28.0685192,76.821106 28.1883171,76.1993775 28.6456767,75.8897961 C29.473078,75.3297377 30.3207955,74.778467 31.190312,74.2341973 Z M26.1779971,77.6313372 C26.6226987,77.3038331 27.2486951,77.3988403 27.5761992,77.8435419 C27.9037034,78.2882435 27.8086961,78.9142399 27.3639945,79.241744 C26.5614476,79.8327864 25.78121,80.4337272 25.0227689,81.0457612 C24.5929708,81.3925925 23.9633881,81.3253346 23.6165568,80.8955364 C23.2697255,80.4657382 23.3369834,79.8361556 23.7667816,79.4893243 C24.5484552,78.8585425 25.3520231,78.2396326 26.1779971,77.6313372 Z M21.4252398,81.4735308 C21.837647,81.1061908 22.4697571,81.1427249 22.8370972,81.5551321 C23.2044373,81.9675393 23.1679031,82.5996494 22.7554959,82.9669895 C22.0153547,83.6262494 21.2989531,84.2980821 20.6062173,84.9834106 C20.2135995,85.3718302 19.5804437,85.3684269 19.1920241,84.9758091 C18.8036046,84.5831913 18.8070079,83.9500355 19.1996257,83.561616 C19.9174379,82.8514792 20.6592954,82.1557742 21.4252398,81.4735308 Z M17.0896905,85.7680091 C17.4599483,85.3582194 18.0923017,85.3261724 18.5020914,85.6964302 C18.9118812,86.066688 18.9439282,86.6990414 18.5736704,87.1088311 C17.9129155,87.840134 17.2774645,88.5861079 16.6674656,89.3475119 C16.3221539,89.7785319 15.6928127,89.8480121 15.2617927,89.5027004 C14.8307727,89.1573887 14.7612924,88.5280474 15.1066041,88.0970274 C15.7415259,87.3045146 16.4026231,86.5284339 17.0896905,85.7680091 Z M13.2548233,90.5612928 C13.5725842,90.1095778 14.1963677,90.0009865 14.6480827,90.3187475 C15.0997977,90.6365084 15.2083889,91.2602919 14.890628,91.7120069 C14.3267374,92.513609 13.7892961,93.331378 13.2785659,94.1659544 C12.9902847,94.6370303 12.3747043,94.7852146 11.9036284,94.4969334 C11.4325526,94.2086523 11.2843683,93.5930718 11.5726494,93.121996 C12.1057196,92.2509143 12.6665524,91.3975529 13.2548233,90.5612928 Z M10.0557624,95.7915569 C10.3128443,95.302755 10.9175027,95.1149089 11.4063046,95.3719908 C11.8951065,95.6290728 12.0829527,96.2337311 11.8258707,96.722533 C11.5358247,97.2740111 11.2567191,97.8324118 10.9886888,98.3977617 C10.8759323,98.6356751 10.7654311,98.9296771 10.6569966,99.2841427 C10.4954377,99.8122688 9.93633756,100.10943 9.40821148,99.9478713 C8.88008539,99.7863124 8.582924,99.2272122 8.74448292,98.6990861 C8.87967511,98.2571512 9.02373191,97.8738702 9.18144653,97.5410966 C9.46139522,96.9506072 9.75286471,96.3674704 10.0557624,95.7915569 Z M8.07557918,101.773585 C8.1628598,101.22824 8.67570372,100.856906 9.22104815,100.944187 C9.76639257,101.031467 10.1377266,101.544311 10.050446,102.089656 C9.91321129,102.947122 9.78662199,103.921665 9.67092267,105.012639 C9.61267873,105.561844 9.1202441,105.959847 8.57103914,105.901603 C8.02183418,105.843359 7.62383163,105.350924 7.68207558,104.801719 C7.8013201,103.677316 7.93240647,102.668153 8.07557918,101.773585 Z M7.41118232,107.818099 C7.45300119,107.2674 7.933332,106.854871 8.48403122,106.89669 C9.03473043,106.938508 9.44725946,107.418839 9.40544059,107.969538 C9.33476714,108.900214 9.26992412,109.891414 9.21092772,110.943068 C9.17999391,111.494485 8.70790469,111.916421 8.15648693,111.885487 C7.60506917,111.854553 7.18313357,111.382464 7.21406738,110.831046 C7.2737807,109.766613 7.33948028,108.76232 7.41118232,107.818099 Z M7.06795042,113.837486 C7.09101367,113.285683 7.55703483,112.857054 8.10883782,112.880118 C8.6606408,112.903181 9.08926904,113.369202 9.06620578,113.921005 C9.02628816,114.876059 8.99034534,115.871952 8.95838039,116.908664 C8.94135989,117.460687 8.48005946,117.894392 7.92803705,117.877371 C7.37601463,117.860351 6.94230989,117.39905 6.95933039,116.847028 C6.99151591,115.803161 7.02772156,114.799987 7.06795042,113.837486 Z M6.88014807,119.856562 C6.89234707,119.304412 7.34984233,118.866695 7.90199234,118.878894 C8.45414234,118.891093 8.89185912,119.348588 8.87966012,119.900738 C8.85830375,120.867368 8.83995337,121.864772 8.82460989,122.892944 C8.81636902,123.445167 8.36202307,123.886152 7.80979981,123.877911 C7.25757655,123.86967 6.81659168,123.415324 6.82483255,122.863101 C6.84024628,121.830222 6.85868448,120.828044 6.88014807,119.856562 Z M6.78924277,125.872885 C6.79415312,125.320622 7.24583129,124.876905 7.79809421,124.881815 C8.35035714,124.886725 8.79407407,125.338404 8.78916372,125.890666 C8.78050813,126.864154 8.77426802,127.86233 8.77044372,128.885191 C8.76837884,129.437472 8.3189928,129.88351 7.76671191,129.881445 C7.21443102,129.87938 6.76839282,129.429994 6.7704577,128.877714 C6.77429469,127.851459 6.78055626,126.84985 6.78924277,125.872885 Z M6.76609682,131.883354 C6.76568998,131.33107 7.2130753,130.883025 7.7653599,130.882618 C8.3176445,130.882211 8.76568944,131.329596 8.76609628,131.881881 C8.76681679,132.859988 8.76955632,133.858714 8.774315,134.878055 C8.77689325,135.430334 8.33127296,135.880134 7.77899423,135.882712 C7.2267155,135.885291 6.77691504,135.43967 6.77433679,134.887392 C6.769566,133.865456 6.76681929,132.86411 6.76609682,131.883354 Z M6.79373397,137.895002 C6.78922538,137.342736 7.23327077,136.891381 7.78553712,136.886872 C8.33780346,136.882364 8.78915873,137.326409 8.79366733,137.878675 C8.79802947,138.413003 8.80290566,138.952578 8.80823155,139.49224 L8.82899525,140.871561 C8.83730817,141.423783 8.39638259,141.878186 7.8441604,141.886499 C7.29193822,141.894812 6.83753474,141.453887 6.82922182,140.901664 L6.80839377,139.517185 C6.80299218,138.971216 6.79810558,138.430489 6.79373397,137.895002 Z M6.87437741,143.901325 C6.8660645,143.349102 7.30699008,142.894699 7.85921226,142.886386 C8.41143445,142.878073 8.86583793,143.318999 8.87415084,143.871221 L8.91930643,146.870881 C8.92761934,147.423103 8.48669376,147.877507 7.93447158,147.88582 C7.38224939,147.894133 6.92784592,147.453207 6.919533,146.900985 L6.87437741,143.901325 Z'\n                                                          fill='#979797' fillRule='nonzero'/>\n                                                </g>\n                                            </svg>\n                                        </div>\n                                    </div>)\n                            ) : null}\n\n                        </>\n                    </PullToRefresh>\n                </Div>\n            </Panel>\n\n        );\n    }\n}\n\nTop.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired,\n    popoutChange: PropTypes.func.isRequired\n};\n\nexport default Top;\n","import React, {Component} from \"react\";\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Icon24Share from '@vkontakte/icons/dist/24/share';\nimport Top from \"../panels/Top\";\n\nclass ResultSnippetBlock extends Component {\n    borderColorPicker = (resultQuality) => {\n        switch (resultQuality) {\n            case \"good\":\n                return \"#009933\";\n            case \"bad\":\n                return \"#ec5b44\";\n            case \"yellow\":\n                return \"#e6e600\";\n            case \"normal\":\n                return \"#528bcc\";\n            default:\n                return \"#528bcc\";\n        }\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            time: props.time ? props.time : {day: \"00\", month: \"00\", year: \"0000\"},\n            resultQuality: props.resultQuality ? props.resultQuality : \"\",\n            lesson: props.lesson ? props.lesson : \"\",\n            testScore: props.testScore ? props.testScore : 0,\n            status: props.status ? props.status : \"\",\n            appeal: props.appeal ? props.appeal : \"\",\n            examID: props.examID ? props.examID : \"\",\n            sharingHandler: props.sharingHandler ? props.sharingHandler : null,\n            showSharing: props.showSharing ? props.showSharing : false\n        }\n    }\n\n    buttonHandler = () => {\n        this.props.sharingHandler(this.state.examID);\n        console.log(this.state.examID)\n    };\n\n    render() {\n        const {time, resultQuality, lesson, testScore, status, appeal, examID} = this.state;\n        return (\n            <Div className=\"root\">\n                <div\n                    className=\"time-wrapper\"\n                    style={{borderColor: this.borderColorPicker(resultQuality)}}>\n                    <div className=\"time-day\">{time.day}</div>\n                    <div className=\"time-month\">{time.month}</div>\n                    <div className=\"time-year\">{time.year}</div>\n                </div>\n                <div className=\"content-wrapper\">\n                    <div className=\"info-wrapper\">\n                        <div className=\"lesson\">\n                            {lesson.toUpperCase()}\n                        </div>\n                        <div className=\"testScore\">Тестовый балл: {testScore}</div>\n                        <div className=\"examStatus\">Статус экзамена: {status}</div>\n                        <div className=\"examStatus\">Апелляция: {appeal}</div>\n                    </div>\n                    {\n                        this.state.showSharing && (<div className=\"sharing-wrapper\">\n                            <Button disabled={!this.state.showSharing} examid={examID} onClick={this.buttonHandler}\n                                    stretched={true} align=\"center\"\n                                    level=\"tertiary\"\n                                    before={<Icon24Share/>} size=\"m\"/>\n                        </div>)\n                    }\n                </div>\n            </Div>\n        )\n    }\n}\n\nexport default ResultSnippetBlock;","import React, {Component} from \"react\";\nimport PopoutWrapper from \"@vkontakte/vkui/dist/components/PopoutWrapper/PopoutWrapper\";\nimport Icon36Done from '@vkontakte/icons/dist/36/done';\nclass DonePopover extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: props.text ? props.text : \"\",\n            icon: props.icon ? props.icon : <Icon36Done/>\n        }\n    }\n\n    render() {\n        return (\n            <PopoutWrapper className=\"DonePopover\" v=\"center\" h=\"center\">\n                <div className=\"DonePopover__container\">\n                    <div className=\"DonePopover\">\n                        <div className=\"DoneIcon\">\n                            {this.state.icon}\n                        </div>\n                        <div className=\"DoneText\">{this.state.text}</div>\n                    </div>\n                </div>\n            </PopoutWrapper>\n        );\n    }\n}\n\nexport default DonePopover","import React from 'react';\nimport PropTypes from 'prop-types';\nimport querystring from 'querystring'\nimport \"./styles.scss\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport {urlBack} from \"../App\";\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel'\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\nimport Group from '@vkontakte/vkui/dist/components/Group/Group'\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton'\nimport Alert from '@vkontakte/vkui/dist/components/Alert/Alert'\nimport PullToRefresh from '@vkontakte/vkui/dist/components/PullToRefresh/PullToRefresh'\nimport axios from \"axios\";\nimport connect from \"@vkontakte/vkui-connect\";\nimport FormStatus from \"@vkontakte/vkui/dist/components/FormStatus/FormStatus\";\nimport FormLayout from \"@vkontakte/vkui/dist/components/FormLayout/FormLayout\";\nimport Icon28Notification from '@vkontakte/icons/dist/24/notification';\nimport Icon36Done from '@vkontakte/icons/dist/36/done';\nimport HeaderButton from \"@vkontakte/vkui/dist/components/HeaderButton/HeaderButton\";\nimport Icon36Cancel from '@vkontakte/icons/dist/36/cancel';\nimport Footer from \"@vkontakte/vkui/dist/components/Footer/Footer\";\nimport Tooltip from \"@vkontakte/vkui/dist/components/Tooltip/Tooltip\";\nimport ActionSheetItem from \"@vkontakte/vkui/dist/components/ActionSheetItem/ActionSheetItem\";\nimport ActionSheet from \"@vkontakte/vkui/dist/components/ActionSheet/ActionSheet\";\nimport Checkbox from \"@vkontakte/vkui/dist/components/Checkbox/Checkbox\";\nimport {platform, ANDROID, IOS} from '@vkontakte/vkui';\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport ResultSnippetBlock from \"../components/ResultSnippetBlock\"\nimport DonePopover from \"../components/DonePopover\"\n\nconst osname = platform();\nlet statuses = [\n    {\n        \"Status\": 0,\n        \"Description\": \"Сформировано заявление участником\"\n    }, {\n        \"Status\": 1,\n        \"Description\": \"Сформировано заявление оператором\"\n    }, {\n        \"Status\": 2,\n        \"Description\": \"Отменена участником\"\n    }, {\n        \"Status\": 3,\n        \"Description\": \"Отменена оператором\"\n    }, {\n        \"Status\": 4,\n        \"Description\": \"Апелляция открыта участником заново\"\n    }, {\n        \"Status\": 5,\n        \"Description\": \"Апелляция открыта оператором заново\"\n    }, {\n        \"Status\": 10,\n        \"Description\": \"Сформировано заявление в РЦОИ\"\n    }, {\n        \"Status\": 11,\n        \"Description\": \"Распечатаны бланки\"\n    }, {\n        \"Status\": 12,\n        \"Description\": \"Введены данные\"\n    }, {\n        \"Status\": 20,\n        \"Description\": \"На обработке\"\n    }, {\n        \"Status\": 30,\n        \"Description\": \"Ожидание подтверждения\"\n    }, {\n        \"Status\": 32,\n        \"Description\": \"Введено подтверждение\"\n    }, {\n        \"Status\": 40,\n        \"Description\": \"Подтверждение на обработке\"\n    }, {\n        \"Status\": 52,\n        \"Description\": \"Создано блокирование\"\n    }, {\n        \"Status\": 60,\n        \"Description\": \"Блокирование на обработке\"\n    }, {\n        \"Status\": 100,\n        \"Description\": \"Удовлетворена\"\n    }, {\n        \"Status\": 101,\n        \"Description\": \"Отклонена конфликтной комиссией субъекта РФ\"\n    }, {\n        \"Status\": 103,\n        \"Description\": \"Заблокирована\"\n    }, {\n        \"Status\": 1000,\n        \"Description\": \"Задержана\"\n    }\n];\n\nclass Result extends React.Component {\n\n\n    connectHandler = (e) => {\n        console.log(e.detail.type, e.detail.data);\n        switch (e.detail.type) {\n            case 'VKWebAppAllowNotificationsResult':\n                sessionStorage.setItem(\"notificationAllowed\", \"1\");\n                this.setState({notificationAllowed: \"1\"});\n                break;\n            case 'VKWebAppAllowNotificationsFailed':\n                sessionStorage.setItem(\"notificationAllowed\", \"0\");\n                this.setState({notificationAllowed: \"0\"});\n                break;\n            case 'VKWebAppAccessTokenReceived':\n                console.log(e.detail.data);\n                if (e.detail.data[\"scope\"].indexOf(\"stories\") !== -1) {\n                    sessionStorage.setItem(\"storiesToken\", e.detail.data[\"access_token\"]);\n                    this.setState({storiesToken: e.detail.data[\"access_token\"]});\n                    this.shareHandler(this.examId);\n                } else {\n                    this.props.popoutChange(<DonePopover text=\"Нет доступа к историям\" icon={<Icon36Cancel/>}/>);\n                    setTimeout(() => {\n                        this.props.popoutChange(null);\n                    }, 1500);\n                }\n                break;\n            case 'VKWebAppCallAPIMethodResult':\n                //e.detail.data[\"response\"][\"request_id\"] === this.request_id\n                if (\"upload_url\" in e.detail.data[\"response\"]) {\n                    this.setState({upload_url: e.detail.data[\"response\"][\"upload_url\"]});\n                    console.log(\"VKWebAppCallAPIMethodResult\");\n                    this.storySend(this.examId);\n                }\n                break;\n            case 'VKWebAppCallAPIMethodFailed':\n                connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6901096, \"scope\": \"stories\"});\n                break;\n            case 'VKWebAppAccessTokenFailed':\n            case 'VKWebAppDenyNotificationsFailed':\n                if (e.detail.data[\"error_type\"] === \"client_error\" && e.detail.data[\"error_data\"][\"error_reason\"] === \"Unknown error\") {\n                    this.props.popoutChange(<Alert\n                        actionsLayout=\"vertical\"\n                        actions={[{\n                            title: 'Закрыть',\n                            autoclose: true,\n                            style: 'cancel'\n                        }]}\n                        onClose={() => this.props.popoutChange(null)}>\n                        <h2>Нет интернета</h2>\n                        <p>Проверьте подключение к сети</p>\n                    </Alert>);\n                }\n                break;\n            default:\n                break;\n        }\n\n    };\n\n    constructor(props) {\n        super(props);\n        let queryParams = window.location.search;\n        queryParams = querystring.parse(queryParams);\n        let localResults = sessionStorage.getItem(\"results\");\n        if (localResults) {\n            localResults = JSON.parse(sessionStorage.getItem(\"results\"));\n        }\n        this.state = {\n            results: localResults ? localResults : [],\n            fetching: false,\n            ringActive: true,\n            upload_url: null,\n            errorStatus: false,\n            storiesToken: sessionStorage.getItem(\"storiesToken\") ? sessionStorage.getItem(\"storiesToken\") : \"\",\n            tooltip: localStorage.getItem(\"alreadyAsked\") === null,\n            notificationAllowed: sessionStorage.getItem(\"notificationAllowed\") ? sessionStorage.getItem(\"notificationAllowed\") : queryParams[\"vk_are_notifications_enabled\"]\n        };\n    }\n\n    componentDidMount() {\n        connect.subscribe(this.connectHandler);\n        localStorage.setItem(\"registered\", true);\n        let scrollTo = sessionStorage.getItem(\"scrollPositionFirst\");\n\n        if (scrollTo) {\n            window.scroll(0, scrollTo);\n        } else {\n            window.scroll(0, 0);\n        }\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"results\" + queryParams;\n        axios({url: userURL, method: \"get\", timeout: 15000}).then(response => {\n            this.setState({results: response.data});\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n            } else if (error.status === 502 || error.status === 403 || error.status === 401) {\n                this.setState({activePanel: error.response.data[\"screen\"]});\n                this.setState({popout: null})\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            } else if (error.response.status === 504) {\n                this.setState({errorStatus: true})\n            }\n        }).then(() => {\n        });\n    }\n\n    componentWillUnmount() {\n        sessionStorage.setItem(\"results\", JSON.stringify(this.state.results));\n        sessionStorage.setItem(\"scrollPositionFirst\", window.pageYOffset);\n        connect.unsubscribe(this.connectHandler);\n    }\n\n    makeTimetable() {\n        let results = this.state.results;\n        let timetable = [];\n\n        let months = [\"янв\", \"фев\", \"март\", \"апр\", \"май\", \"июн\", \"июл\", \"авг\", \"сен\", \"окт\", \"ноя\", \"дек\"];\n\n        for (let i = 0; i < results.length; i++) {\n            let showSharing = false;\n            let result = results[i];\n            let quality = \"normal\";\n\n            let status = '';\n            if (result[\"IsHidden\"]) {\n                quality = \"normal\";\n                status = \"результат скрыт. Смотрите на сайте РЦОИ\";\n                result[\"Mark\"] = '-'\n            } else if (!result[\"HasResult\"]) {\n                status = \"нет результатов\";\n                quality = \"normal\";\n                result[\"Mark\"] = '-'\n            } else {\n                if (result[\"IsComposition\"]) {\n                    status = \"экзамен написан\";\n                    showSharing = false;\n                    quality = result[\"Mark5\"] === 5 ? \"good\" : \"bad\";\n                    result[\"Mark\"] = result[\"Mark5\"] === 5 ? 'зачёт' : 'незачёт';\n                } else {\n                    status = \"экзамен обработан\";\n                    showSharing = true;\n                    result[\"Mark\"] = result[\"TestMark\"];\n                    if (result[\"TestMark\"] >= result[\"MinMark\"]) {\n                        quality = \"good\";\n                    } else {\n                        quality = \"bad\";\n                    }\n                }\n\n            }\n            let appeal = \"\";\n            if (result) {\n                appeal = statuses.find(function (element) {\n                    return (result[\"HasAppeal\"] && element[\"Status\"] === result[\"AppealStatus\"]);\n\n                });\n                if (appeal) {\n                    appeal = appeal[\"Description\"];\n                }\n            }\n            let date = result[\"ExamDate\"];\n            date = date.split('-');\n            date[1] = months[date[1] - 1];\n            // if (i === 1) {\n            //     timetable.push(<ResultSnippetBlock key={JSON.stringify(result)}\n            //                                        lesson={result[\"Subject\"]}\n            //                                        time={{day: date[2], month: date[1], year: date[0]}}\n            //                                        resultQuality={\"good\"}\n            //                                        testScore={98}\n            //                                        status={\"экзамен написан\"}\n            //                                        appeal={appeal ? appeal : \"Нет\"}\n            //                                        examID={result[\"ExamId\"]}\n            //                                        sharingHandler={this.sharingHandler}\n            //                                        showSharing={true}/>)\n            // } else if (i === 2) {\n            //     timetable.push(<ResultSnippetBlock key={JSON.stringify(result)}\n            //                                        lesson={result[\"Subject\"]}\n            //                                        time={{day: date[2], month: date[1], year: date[0]}}\n            //                                        resultQuality={\"bad\"}\n            //                                        testScore={64}\n            //                                        status={\"экзамен написан\"}\n            //                                        appeal={\"В процессе\"}\n            //                                        examID={result[\"ExamId\"]}\n            //                                        sharingHandler={this.sharingHandler}\n            //                                        showSharing={true}/>)\n            // } else {\n            timetable.push(<ResultSnippetBlock key={JSON.stringify(result)}\n                                               lesson={result[\"Subject\"]}\n                                               time={{day: date[2], month: date[1], year: date[0]}}\n                                               resultQuality={quality}\n                                               testScore={result[\"Mark\"]}\n                                               status={status}\n                                               appeal={appeal ? appeal : \"Нет\"}\n                                               examID={result[\"ExamId\"]}\n                                               sharingHandler={this.sharingHandler}\n                                               showSharing={showSharing}/>\n            )\n\n        }\n\n        return timetable;\n    };\n\n    logoutRequest = () => {\n\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"logout\";\n        let formData = {\n            vkParams: queryParams\n        };\n        formData = JSON.stringify(formData);\n\n        axios({\n            url: userURL, method: \"post\", data: formData, headers: {\n                'Content-Type': 'application/json'\n            }, timeout: 15000\n        }).then(response => {\n            if (response.status === 200) {\n                this.props.popoutChange(null);\n                sessionStorage.removeItem(\"scrollPositionFirst\");\n                sessionStorage.removeItem(\"results\");\n                localStorage.setItem(\"registered\", false);\n                this.props.go(\"register\");\n            }\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            }\n        });\n\n    };\n\n    logoutHandler = () => {\n        this.props.popoutChange(<Alert\n            actions={[\n                {\n                    title: 'Отмена',\n                    style: 'cancel',\n                    autoclose: true\n                }, {\n                    title: 'Выйти',\n                    style: 'destructive',\n                    autoclose: true,\n                    action: this.logoutRequest\n                }\n            ]}\n            onClose={() => this.props.popoutChange(null)}>\n            <h2>Подтвердите действие</h2>\n            <p>Вы уверены, что хотите выйти?</p>\n        </Alert>);\n    };\n\n    onRefresh = () => {\n        this.setState({fetching: true});\n        connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\n        const startTime = Date.now();\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"results\" + queryParams;\n        axios({url: userURL, method: \"get\", timeout: 15000}).then(response => {\n            this.setState({results: response.data})\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n            } else if (error.status === 502 || error.status === 403 || error.status === 401) {\n                this.setState({activePanel: error.response.data[\"screen\"]});\n                this.setState({popout: null})\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            } else if (error.response.status === 504) {\n                this.setState({errorStatus: true})\n            }\n        }).then(() => {\n            const duration = Date.now() - startTime;\n            if (duration < 650) {\n                setTimeout(() => {\n                    this.setState({fetching: false});\n                }, 650 - duration);\n            } else {\n                this.setState({fetching: false});\n            }\n        });\n    };\n\n    notificationHandler = () => {\n        this.setState({ringActive: false});\n        if (this.state.notificationAllowed === \"1\") {\n            connect.send(\"VKWebAppDenyNotifications\", {});\n            sessionStorage.setItem(\"notificationAllowed\", \"0\");\n            this.setState({notificationAllowed: \"0\"});\n            if (osname !== ANDROID) {\n                this.props.popoutChange(<DonePopover text=\"Уведомления отключены\" icon={<Icon36Done/>}/>);\n                setTimeout(() => {\n                    this.props.popoutChange(null);\n                }, 1500);\n            }\n        } else {\n            connect.send(\"VKWebAppAllowNotifications\", {});\n        }\n        this.setState({ringActive: true});\n    };\n\n    sharingHandler = (examId) => {\n        this.examId = examId;\n        this.props.popoutChange(<ActionSheet\n            onClose={() => this.props.popoutChange(null)}\n        >\n            <ActionSheetItem autoclose key=\"stories\" onClick={this.shareHandler.bind(this, this.examId)}>Поделиться в\n                историю</ActionSheetItem>\n            {osname === IOS && <ActionSheetItem autoclose theme=\"cancel\">Отмена</ActionSheetItem>}\n        </ActionSheet>);\n    };\n\n    shareHandler = (ExamId) => {\n        this.examId = ExamId;\n        console.log(this.examId);\n        // this.request_id = '_' + Math.random().toString(36).substr(2, 9);\n        if (this.state.storiesToken === \"\") {\n            connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6901096, \"scope\": \"stories\"});\n        } else {\n            connect.send(\"VKWebAppCallAPIMethod\", {\n                \"method\": \"stories.getPhotoUploadServer\",\n                // \"request_id\": this.request_id,\n                \"params\": {\n                    \"add_to_news\": \"1\",\n                    \"link_text\": \"go_to\",\n                    \"link_url\": \"https://vk.com/app6901096\",\n                    \"v\": \"5.95\",\n                    \"access_token\": this.state.storiesToken\n                }\n            });\n        }\n    };\n\n    storySend = () => {\n        console.log(this.examId);\n        this.props.popoutChange(<ScreenSpinner/>);\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"stories\";\n        let formData = {\n            vkParams: queryParams,\n            ExamId: this.examId,\n            upload_url: this.state.upload_url\n        };\n        formData = JSON.stringify(formData);\n\n        axios({\n            url: userURL, method: \"post\", data: formData, headers: {\n                'Content-Type': 'application/json'\n            }, timeout: 15000\n        }).then(() => {\n            this.props.popoutChange(<DonePopover text=\"История успешно создана!\" icon={<Icon36Done/>}/>);\n            setTimeout(() => {\n                this.props.popoutChange(null);\n            }, 1500);\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Сервис временно недоступен</h2>\n                    <p>Повторите попытку позднее</p>\n                </Alert>);\n            } else if (error.message === \"Network Error\") {\n                this.props.popoutChange(<Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'Закрыть',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.props.popoutChange(null)}>\n                    <h2>Нет интернета</h2>\n                    <p>Проверьте подключение к сети</p>\n                </Alert>);\n            } else if (error.response.status === 400 || error.response.status === 500) {\n                this.props.popoutChange(<DonePopover text=\"Ошибка при создании истории\" icon={<Icon36Cancel/>}/>);\n                setTimeout(() => {\n                    this.props.popoutChange(null);\n                }, 1500)\n            }\n        }).then(\n        );\n        this.examId = '';\n    };\n\n    render() {\n        let {id} = this.props;\n        return (\n            <Panel id={id}>\n                <PanelHeader theme=\"alternate\" left={\n                    <HeaderButton disabled={!this.state.ringActive} onClick={this.notificationHandler}>\n                        <Tooltip\n                            text=\"Нажмите, чтобы включить уведомления о результатах\"\n                            isShown={this.state.tooltip && this.state.notificationAllowed === \"0\"}\n                            onClose={() => {\n                                this.setState({tooltip: false});\n                                localStorage.setItem(\"alreadyAsked\", true);\n                            }}\n                            cornerOffset={-9}\n                            offsetX={3}>\n                            {\n                                this.state.notificationAllowed === \"1\" ?\n                                    <Icon28Notification fill=\"#5181b8\"/> : <Icon28Notification fill=\"#aec9e8\"/>\n                            }\n                        </Tooltip>\n                    </HeaderButton>\n                }>\n                    Результаты\n                </PanelHeader>\n                <PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\n                    <>\n                        <Group>\n                            {this.makeTimetable()}\n\n                            <FormLayout>\n                                {!this.state.errorStatus && (\n                                    <FormStatus state=\"default\">\n                                        В случае если:<br/>\n                                        —«Результат скрыт»<br/>\n                                        —«Экзамен обработан» и при этом значение тестового балла пустое <br/>\n                                        Вам необходимо обратиться в РЦОИ Вашего региона для получения результатов.\n                                    </FormStatus>\n                                )}\n                                {this.state.errorStatus && (\n                                    <FormStatus title=\"Внимание!\" state=\"error\">\n                                        Сайт check.ege.edu.ru временно недоступен. Воспользуйтесь сервисом позднее.\n                                    </FormStatus>)\n                                }\n                            </FormLayout>\n\n                        </Group>\n                        <Group>\n                            <CellButton align=\"center\" level=\"danger\"\n                                        onClick={this.logoutHandler}>Выйти\n                                из профиля</CellButton>\n                        </Group>\n                        <Footer>Версия 1.6.0</Footer>\n                    </>\n                </PullToRefresh>\n            </Panel>\n        )\n    }\n}\n\nResult.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired,\n    popoutChange: PropTypes.func.isRequired\n};\n\nexport default Result;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View'\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner'\nimport Epic from '@vkontakte/vkui/dist/components/Epic/Epic'\nimport Tabbar from '@vkontakte/vkui/dist/components/Tabbar/Tabbar'\nimport TabbarItem from '@vkontakte/vkui/dist/components/TabbarItem/TabbarItem'\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel'\nimport Alert from '@vkontakte/vkui/dist/components/Alert/Alert'\nimport Icon28More from '@vkontakte/icons/dist/28/more';\nimport Icon28User from '@vkontakte/icons/dist/28/user';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Register from './panels/Register';\nimport Captcha from './panels/Captcha';\nimport Results from './panels/Results';\nimport Top from './panels/Top';\nimport axios from \"axios\";\n\nexport const urlBack = \"https://vkme.top/vkapp/\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        if (localStorage.getItem(\"activePanel\") === null) {\n            localStorage.setItem(\"activePanel\", \"register\");\n        }\n        this.state = {\n            activePanel: localStorage.getItem(\"activePanel\"),\n            authToken: null,\n            captchaImage: null,\n            popout: <ScreenSpinner/>,\n            activeStory: \"results\"\n        };\n        this.onStoryChange = this.onStoryChange.bind(this);\n        connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#ffffffS\"});\n    }\n\n    componentDidMount() {\n        const queryParams = window.location.search;\n        const userURL = urlBack + \"userInfo\" + queryParams;\n        axios({url: userURL, method: \"get\", timeout: 15000}).then(response => {\n            if (response.data[\"screen\"] === \"captcha\") {\n                this.setState({captchaImage: response.data[\"image\"]});\n            }\n            this.setState({popout: null});\n            this.setState({activePanel: response.data[\"screen\"]});\n            localStorage.setItem(\"activePanel\", response.data[\"screen\"]);\n            if (response.data[\"screen\"] === \"results\"){\n                localStorage.setItem(\"registered\", true);\n            }\n        }).catch(error => {\n            if (error.code === \"ECONNABORTED\") {\n                this.setState({\n                    popout: (<Alert>\n                        <h2>Сервис временно недоступен</h2>\n                        <p>Повторите попытку позднее.</p>\n                    </Alert>)\n                })\n            } else if (error.status === 502 || error.status === 403) {\n                this.setState({activePanel: error.response.data[\"screen\"]});\n                this.setState({popout: null})\n            }\n        }).then(() => {\n        });\n\n\n    }\n\n    go = (activePanel, image = null) => {\n        if (activePanel === 'captcha' && image) {\n            this.setState({captchaImage: image});\n        }\n        this.setState({activePanel: activePanel});\n        localStorage.setItem(\"activePanel\", activePanel);\n    };\n\n    onStoryChange(e) {\n        connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\n        this.setState({activeStory: e.currentTarget.dataset.story})\n    }\n\n    popoutChange = (popoutName) => {\n        this.setState({popout: popoutName});\n    };\n\n    render() {\n        return (\n            <Epic activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'results'}\n                        data-story=\"results\"\n                        text=\"Результаты\"\n                    ><Icon28More/></TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'top'}\n                        data-story=\"top\"\n                        text=\"Топ\"\n                    ><Icon28User/></TabbarItem>\n                </Tabbar>\n            }>\n                <View id=\"results\" popout={this.state.popout} activePanel={this.state.activePanel}>\n                    <Register\n                        id=\"register\"\n                        go={this.go}\n                        popoutChange={this.popoutChange}\n                    />\n\n                    <Captcha\n                        id=\"captcha\"\n                        captchaImage={this.state.captchaImage}\n                        go={this.go}\n                        popoutChange={this.popoutChange}\n                    />\n\n                    <Results\n                        id=\"results\"\n                        go={this.go}\n                        popoutChange={this.popoutChange}\n                    />\n\n                    <Panel id=\"error\">\n                        <p>ERROR</p>\n                    </Panel>\n                </View>\n                <View popout={this.state.popout}  id=\"top\" activePanel=\"top\">\n                    <Top\n                        id=\"top\"\n                        go={this.go}\n                        popoutChange={this.popoutChange}\n                    />\n                </View>\n            </Epic>\n        );\n    }\n}\n\nexport default App;\n","//import 'core-js/es6/map';\n//import 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}